<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>CLASSIFIED ACCESS - TERMINAL v1.0</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        /* Performance Optimizations */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Hardware acceleration for animations */
        .screen,
        .code-block,
        .accept-btn,
        .start-game-btn,
        .retry-btn {
            transform: translateZ(0);
            will-change: transform;
        }

        :root {
            --neon-green: #00ff41;
            --dark-green: #003b00;
            --bg-black: #000000;
            --matrix-bg: #0d0208;
            --warning-red: #ff0000;
            --warning-yellow: #ffff00;
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background: var(--matrix-bg);
            color: var(--neon-green);
            overflow-x: hidden;
            overflow-y: auto;
            cursor: crosshair;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            -webkit-overflow-scrolling: touch;
            height: 100%;
        }

        html {
            overflow-y: auto;
            height: 100%;
        }

        /* Allow text selection in inputs */
        input, textarea {
            -webkit-user-select: text;
            user-select: text;
        }

        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                rgba(18, 16, 16, 0) 50%,
                rgba(0, 0, 0, 0.25) 50%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9999;
            animation: flicker 0.15s infinite;
        }

        @keyframes flicker {
            0% { opacity: 0.97; }
            50% { opacity: 1; }
            100% { opacity: 0.97; }
        }

        .screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-out, visibility 0.5s;
            z-index: 10;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }

        .screen.active {
            opacity: 1;
            visibility: visible;
        }

        @keyframes screenFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* WARNING SCREEN */
        .warning-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: var(--bg-black);
        }

        .warning-box {
            border: 5px solid var(--warning-red);
            padding: 60px 80px;
            max-width: 800px;
            background: rgba(255, 0, 0, 0.05);
            box-shadow: 
                0 0 20px var(--warning-red),
                inset 0 0 20px rgba(255, 0, 0, 0.1);
            animation: warningPulse 2s infinite;
        }

        @keyframes warningPulse {
            0%, 100% { 
                box-shadow: 0 0 20px var(--warning-red),
                           inset 0 0 20px rgba(255, 0, 0, 0.1);
            }
            50% { 
                box-shadow: 0 0 40px var(--warning-red),
                           inset 0 0 40px rgba(255, 0, 0, 0.2);
            }
        }

        .warning-title {
            font-family: 'VT323', monospace;
            font-size: 72px;
            color: var(--warning-red);
            margin-bottom: 30px;
            text-shadow: 0 0 10px var(--warning-red);
            letter-spacing: 8px;
        }

        .warning-text {
            font-size: 18px;
            color: var(--warning-yellow);
            line-height: 1.8;
            margin-bottom: 20px;
            text-shadow: 0 0 5px var(--warning-yellow);
        }

        .warning-list {
            text-align: left;
            margin: 30px 0;
            padding-left: 40px;
        }

        .warning-list li {
            margin: 15px 0;
            color: #ff6600;
        }

        .accept-btn {
            margin-top: 40px;
            padding: 20px 60px;
            font-family: 'VT323', monospace;
            font-size: 28px;
            background: transparent;
            border: 3px solid var(--warning-red);
            color: var(--warning-red);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 4px;
            transition: all 0.3s;
            box-shadow: 0 0 10px var(--warning-red);
        }

        .accept-btn:hover {
            background: var(--warning-red);
            color: black;
            box-shadow: 0 0 30px var(--warning-red);
            transform: scale(1.05);
        }

        /* BOOT SCREEN */
        .boot-screen {
            padding: 40px;
            font-family: 'Share Tech Mono', monospace;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            height: 100%;
        }

        .boot-line {
            margin: 8px 0;
            opacity: 0;
            animation: bootLineAppear 0.1s forwards;
        }

        @keyframes bootLineAppear {
            to { opacity: 1; }
        }

        .boot-ok {
            color: var(--neon-green);
        }

        .boot-loading {
            color: var(--warning-yellow);
        }

        .progress-bar {
            margin: 20px 0;
            height: 30px;
            border: 2px solid var(--neon-green);
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--neon-green);
            width: 0;
            transition: width 0.1s linear;
            box-shadow: 0 0 20px var(--neon-green);
        }

        /* TERMINAL SCREEN */
        .terminal-screen {
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
            position: relative;
        }

        .terminal-header {
            border: 2px solid var(--neon-green);
            padding: 20px;
            margin-bottom: 30px;
            background: rgba(0, 255, 65, 0.05);
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.2);
        }

        .terminal-title {
            font-family: 'VT323', monospace;
            font-size: 48px;
            text-align: center;
            text-shadow: 0 0 10px var(--neon-green);
            letter-spacing: 6px;
            margin-bottom: 10px;
        }

        .terminal-subtitle {
            text-align: center;
            font-size: 14px;
            opacity: 0.8;
        }

        .instructions-box {
            border: 1px solid var(--neon-green);
            padding: 30px;
            margin: 30px 0;
            background: rgba(0, 50, 0, 0.3);
        }

        .instruction-line {
            margin: 15px 0;
            padding-left: 20px;
            position: relative;
        }

        .instruction-line:before {
            content: '>';
            position: absolute;
            left: 0;
            color: var(--warning-yellow);
        }

        .typing-text {
            overflow: hidden;
            white-space: nowrap;
            border-right: 3px solid var(--neon-green);
            animation: typing 3s steps(40, end), blink 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink {
            50% { border-color: transparent; }
        }

        .start-game-btn {
            display: block;
            margin: 40px auto;
            padding: 25px 100px;
            font-family: 'VT323', monospace;
            font-size: 40px;
            background: transparent;
            border: 4px solid var(--neon-green);
            color: var(--neon-green);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 6px;
            transition: all 0.3s;
            box-shadow: 0 0 20px var(--neon-green);
            animation: buttonPulse 2s infinite;
            position: relative;
            z-index: 100;
        }

        @keyframes buttonPulse {
            0%, 100% { 
                box-shadow: 0 0 20px var(--neon-green);
            }
            50% { 
                box-shadow: 0 0 40px var(--neon-green), 0 0 60px var(--neon-green);
            }
        }

        .start-game-btn:hover {
            background: var(--neon-green);
            color: black;
            box-shadow: 0 0 50px var(--neon-green);
            transform: scale(1.1);
            animation: none;
        }

        /* GAME SCREEN */
        .game-screen {
            padding: 40px;
            max-width: 1400px;
            margin: 0 auto;
            overflow-y: auto;
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border: 2px solid var(--neon-green);
            margin-bottom: 30px;
            background: rgba(0, 255, 65, 0.05);
        }

        .timer {
            font-family: 'VT323', monospace;
            font-size: 48px;
            color: var(--warning-red);
            text-shadow: 0 0 10px var(--warning-red);
        }

        .score {
            font-family: 'VT323', monospace;
            font-size: 36px;
        }

        .mission-brief {
            border: 1px solid var(--warning-yellow);
            padding: 20px;
            margin-bottom: 30px;
            background: rgba(255, 255, 0, 0.05);
            border-left: 5px solid var(--warning-yellow);
        }

        .game-container {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            margin: 40px 0;
            padding: 40px;
            border: 2px solid var(--neon-green);
            background: rgba(0, 0, 0, 0.5);
        }

        .code-block {
            aspect-ratio: 1;
            border: 2px solid var(--neon-green);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(0, 50, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .code-block:hover {
            background: rgba(0, 255, 65, 0.2);
            box-shadow: 0 0 20px var(--neon-green);
            transform: scale(1.05);
        }

        .code-block.matched {
            background: rgba(0, 255, 65, 0.3);
            border-color: var(--neon-green);
            animation: matchPulse 0.5s;
            pointer-events: none;
        }

        .code-block.selected {
            background: rgba(255, 255, 0, 0.3);
            border-color: var(--warning-yellow);
            box-shadow: 0 0 20px var(--warning-yellow);
        }

        .code-block.wrong {
            background: rgba(255, 0, 0, 0.3);
            border-color: var(--warning-red);
            animation: wrongShake 0.5s;
        }

        @keyframes matchPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .code-symbol {
            font-family: 'VT323', monospace;
            font-size: 48px;
            text-shadow: 0 0 5px currentColor;
        }

        .game-over-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .game-over-screen.active {
            display: flex;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .game-over-content {
            text-align: center;
            padding: 60px;
            border: 5px solid var(--neon-green);
            background: rgba(0, 50, 0, 0.9);
            box-shadow: 0 0 50px var(--neon-green);
        }

        .game-over-content.failed {
            border-color: var(--warning-red);
            box-shadow: 0 0 50px var(--warning-red);
        }

        .game-over-title {
            font-family: 'VT323', monospace;
            font-size: 96px;
            margin-bottom: 30px;
            text-shadow: 0 0 20px currentColor;
        }

        .game-over-stats {
            font-size: 24px;
            margin: 20px 0;
        }

        .retry-btn {
            margin-top: 40px;
            padding: 20px 60px;
            font-family: 'VT323', monospace;
            font-size: 28px;
            background: transparent;
            border: 3px solid var(--neon-green);
            color: var(--neon-green);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 4px;
            transition: all 0.3s;
        }

        .retry-btn:hover {
            background: var(--neon-green);
            color: black;
            transform: scale(1.05);
        }

        /* LEADERBOARD */
        .leaderboard-section {
            margin-top: 40px;
            border: 2px solid var(--warning-yellow);
            padding: 30px;
            background: rgba(255, 255, 0, 0.05);
        }

        .leaderboard-title {
            font-family: 'VT323', monospace;
            font-size: 36px;
            color: var(--warning-yellow);
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 0 0 10px var(--warning-yellow);
            letter-spacing: 4px;
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
        }

        .leaderboard-table th {
            color: var(--warning-yellow);
            text-align: left;
            padding: 15px;
            border-bottom: 2px solid var(--warning-yellow);
            font-size: 18px;
        }

        .leaderboard-table td {
            padding: 15px;
            border-bottom: 1px solid rgba(0, 255, 65, 0.3);
        }

        .leaderboard-table tr:hover {
            background: rgba(0, 255, 65, 0.1);
        }

        .rank {
            font-family: 'VT323', monospace;
            font-size: 28px;
            color: var(--warning-yellow);
            text-align: center;
            width: 60px;
        }

        .rank.top3 {
            color: var(--neon-green);
            text-shadow: 0 0 10px var(--neon-green);
        }

        .operative-name {
            font-weight: bold;
            color: var(--neon-green);
        }

        .time-score {
            color: var(--warning-red);
            font-family: 'VT323', monospace;
            font-size: 24px;
        }

        .submit-score-section {
            margin-top: 30px;
            padding: 20px;
            border: 1px dashed var(--neon-green);
            text-align: center;
        }

        .score-input {
            padding: 10px 20px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 18px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--neon-green);
            color: var(--neon-green);
            margin: 0 10px;
            width: 250px;
            -webkit-user-select: text;
            user-select: text;
            touch-action: manipulation;
        }

        .submit-score-btn {
            padding: 10px 30px;
            font-family: 'VT323', monospace;
            font-size: 24px;
            background: transparent;
            border: 2px solid var(--neon-green);
            color: var(--neon-green);
            cursor: pointer;
            transition: all 0.3s;
        }

        .submit-score-btn:hover {
            background: var(--neon-green);
            color: black;
        }

        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
                padding: 20px;
            }

            .code-symbol {
                font-size: 32px;
            }

            .warning-box {
                padding: 40px 30px;
            }

            .leaderboard-table th,
            .leaderboard-table td {
                padding: 10px 5px;
                font-size: 14px;
            }

            .score-input {
                width: 200px;
                margin: 10px 0;
            }
        }

        /* ============================================
           RESPONSIVE DESIGN - ALL DEVICE MODELS
           ============================================ */

        /* Large Desktops (1920px+) */
        @media (min-width: 1920px) {
            .terminal-screen,
            .game-screen {
                max-width: 1600px;
            }
            
            .code-symbol {
                font-size: 56px;
            }
        }

        /* Desktop/Laptop (1440px - 1919px) */
        @media (min-width: 1440px) and (max-width: 1919px) {
            .terminal-screen,
            .game-screen {
                max-width: 1200px;
            }
        }

        /* Small Laptops (1024px - 1439px) */
        @media (min-width: 1024px) and (max-width: 1439px) {
            .terminal-screen {
                padding: 35px;
                max-width: 1000px;
            }
            
            .game-container {
                gap: 12px;
                padding: 35px;
            }
        }

        /* iPad Pro 12.9" (1024px width) */
        @media (min-width: 1024px) and (max-width: 1024px) {
            .terminal-title {
                font-size: 42px;
            }
            
            .game-container {
                grid-template-columns: repeat(6, 1fr);
                gap: 15px;
            }
        }

        /* Tablets Landscape & iPad Air/Pro Portrait (768px - 1023px) */
        @media (min-width: 768px) and (max-width: 1023px) {
            body {
                padding: 15px;
            }

            .terminal-screen {
                padding: 25px;
                max-width: 100%;
            }

            .terminal-title {
                font-size: 38px;
            }

            .terminal-subtitle {
                font-size: 12px;
            }

            .instructions-box {
                padding: 25px;
            }

            .instruction-line {
                font-size: 14px;
            }

            .game-container {
                grid-template-columns: repeat(6, 1fr);
                gap: 12px;
                padding: 25px;
            }

            .code-symbol {
                font-size: 36px;
            }

            .warning-box {
                padding: 45px 55px;
                max-width: 650px;
            }

            .warning-title {
                font-size: 56px;
            }

            .start-game-btn {
                padding: 22px 75px;
                font-size: 36px;
            }

            .leaderboard-section {
                padding: 25px;
            }

            .leaderboard-title {
                font-size: 32px;
            }

            .game-screen {
                padding: 30px;
            }

            .game-header {
                padding: 18px;
            }

            .timer {
                font-size: 42px;
            }

            .score {
                font-size: 32px;
            }
        }

        /* iPad Mini & Small Tablets Portrait (601px - 767px) */
        @media (min-width: 601px) and (max-width: 767px) {
            body {
                padding: 12px;
            }

            .terminal-screen {
                padding: 20px;
            }

            .terminal-title {
                font-size: 34px;
            }

            .terminal-subtitle {
                font-size: 11px;
            }

            .instructions-box {
                padding: 20px;
            }

            .instruction-line {
                font-size: 13px;
                margin: 9px 0;
            }

            .game-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
                padding: 20px;
            }

            .code-symbol {
                font-size: 32px;
            }

            .game-header {
                flex-direction: column;
                gap: 12px;
                text-align: center;
            }

            .warning-box {
                padding: 35px 30px;
                max-width: 85%;
            }

            .warning-title {
                font-size: 44px;
            }

            .start-game-btn {
                padding: 18px 55px;
                font-size: 32px;
            }

            .leaderboard-title {
                font-size: 28px;
            }

            .game-over-title {
                font-size: 68px;
            }
        }

        /* Large Phones Landscape & Small Tablets (481px - 600px) */
        @media (min-width: 481px) and (max-width: 600px) {
            body {
                padding: 10px;
            }

            .terminal-screen {
                padding: 18px;
                font-size: 14px;
            }

            .terminal-title {
                font-size: 30px;
                letter-spacing: 4px;
            }

            .terminal-subtitle {
                font-size: 10px;
            }

            .instructions-box {
                padding: 18px;
            }

            .instruction-line {
                font-size: 12px;
                margin: 8px 0;
            }

            .game-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 10px;
                padding: 18px;
            }

            .code-block {
                border-width: 2px;
            }

            .code-symbol {
                font-size: 28px;
            }

            .game-screen {
                padding: 18px;
            }

            .game-header {
                flex-direction: column;
                gap: 12px;
                padding: 15px;
            }

            .timer {
                font-size: 36px;
            }

            .score {
                font-size: 28px;
            }

            .mission-brief {
                padding: 15px;
                font-size: 12px;
            }

            .warning-box {
                padding: 30px 22px;
                max-width: 90%;
            }

            .warning-title {
                font-size: 40px;
                letter-spacing: 3px;
            }

            .warning-text {
                font-size: 13px;
            }

            .warning-list {
                padding-left: 18px;
                font-size: 12px;
            }

            .accept-btn {
                padding: 14px 35px;
                font-size: 22px;
            }

            .start-game-btn {
                padding: 16px 45px;
                font-size: 28px;
                margin: 30px auto;
            }

            .leaderboard-section {
                padding: 18px;
            }

            .leaderboard-title {
                font-size: 26px;
            }

            .leaderboard-table {
                font-size: 12px;
            }

            .rank {
                font-size: 20px;
            }

            .time-score {
                font-size: 18px;
            }

            .game-over-title {
                font-size: 60px;
            }

            .game-over-stats {
                font-size: 16px;
            }
        }

        /* Standard Phones Portrait - iPhone 12/13/14, Galaxy S21+ (375px - 480px) */
        @media (min-width: 375px) and (max-width: 480px) {
            body {
                padding: 8px;
                font-size: 14px;
            }

            .screen {
                padding: 8px;
            }

            .terminal-screen {
                padding: 15px;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .terminal-header {
                padding: 14px;
            }

            .terminal-title {
                font-size: 26px;
                letter-spacing: 3px;
            }

            .terminal-subtitle {
                font-size: 9px;
                line-height: 1.4;
            }

            .instructions-box {
                padding: 16px;
            }

            .instruction-line {
                font-size: 11px;
                margin: 7px 0;
                padding-left: 15px;
            }

            .game-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 8px;
                padding: 15px;
            }

            .code-block {
                border-width: 1.5px;
                min-height: 65px;
            }

            .code-symbol {
                font-size: 26px;
            }

            .game-screen {
                padding: 15px;
            }

            .game-header {
                flex-direction: column;
                gap: 10px;
                padding: 14px;
            }

            .timer {
                font-size: 34px;
            }

            .score {
                font-size: 26px;
            }

            .mission-brief {
                padding: 14px;
                font-size: 11px;
            }

            .warning-box {
                padding: 28px 18px;
                max-width: 92%;
                border-width: 3px;
            }

            .warning-title {
                font-size: 36px;
                letter-spacing: 3px;
                margin-bottom: 18px;
            }

            .warning-text {
                font-size: 12px;
                line-height: 1.6;
            }

            .warning-list {
                padding-left: 16px;
                font-size: 11px;
                margin: 18px 0;
            }

            .warning-list li {
                margin: 9px 0;
            }

            .accept-btn {
                padding: 13px 32px;
                font-size: 21px;
                letter-spacing: 2px;
                margin-top: 24px;
            }

            .start-game-btn {
                padding: 16px 40px;
                font-size: 26px;
                letter-spacing: 3px;
                margin: 28px auto;
            }

            .leaderboard-section {
                padding: 16px;
                margin-top: 28px;
            }

            .leaderboard-title {
                font-size: 24px;
                margin-bottom: 18px;
            }

            .leaderboard-table {
                font-size: 11px;
            }

            .leaderboard-table th,
            .leaderboard-table td {
                padding: 9px 4px;
            }

            .rank {
                font-size: 19px;
                width: 45px;
            }

            .time-score {
                font-size: 17px;
            }

            .operative-name {
                font-size: 11px;
            }

            .boot-screen {
                padding: 18px;
                font-size: 12px;
            }

            .boot-line {
                margin: 5px 0;
            }

            .progress-bar {
                height: 22px;
                margin: 16px 0;
            }

            .game-over-content {
                padding: 32px 18px;
                border-width: 3px;
            }

            .game-over-title {
                font-size: 52px;
                margin-bottom: 22px;
            }

            .game-over-stats {
                font-size: 15px;
            }

            .game-over-stats div {
                margin: 11px 0;
            }

            .retry-btn {
                padding: 13px 32px;
                font-size: 21px;
                margin-top: 26px;
            }

            .submit-score-section {
                padding: 16px;
                margin-top: 22px;
            }

            .score-input {
                width: 100%;
                max-width: 260px;
                padding: 9px 16px;
                font-size: 15px;
                margin: 11px 0;
            }

            .submit-score-btn {
                padding: 9px 22px;
                font-size: 19px;
                margin-top: 11px;
            }

            .typing-text {
                font-size: 13px;
            }
        }

        /* iPhone SE, Small Phones (320px - 374px) */
        @media (min-width: 320px) and (max-width: 374px) {
            body {
                padding: 6px;
                font-size: 13px;
            }

            .screen {
                padding: 6px;
            }

            .terminal-screen {
                padding: 12px;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .terminal-header {
                padding: 12px;
            }

            .terminal-title {
                font-size: 22px;
                letter-spacing: 2px;
            }

            .terminal-subtitle {
                font-size: 8px;
                line-height: 1.3;
            }

            .instructions-box {
                padding: 14px;
            }

            .instruction-line {
                font-size: 10px;
                margin: 6px 0;
                padding-left: 12px;
            }

            .game-container {
                grid-template-columns: repeat(4, 1fr);
                gap: 6px;
                padding: 12px;
            }

            .code-block {
                border-width: 1px;
                min-height: 60px;
            }

            .code-symbol {
                font-size: 22px;
            }

            .game-screen {
                padding: 12px;
            }

            .game-header {
                flex-direction: column;
                gap: 8px;
                padding: 12px;
            }

            .timer {
                font-size: 30px;
            }

            .score {
                font-size: 24px;
            }

            .mission-brief {
                padding: 12px;
                font-size: 10px;
            }

            .warning-box {
                padding: 24px 14px;
                max-width: 94%;
                border-width: 2px;
            }

            .warning-title {
                font-size: 32px;
                letter-spacing: 2px;
                margin-bottom: 16px;
            }

            .warning-text {
                font-size: 11px;
                line-height: 1.5;
            }

            .warning-list {
                padding-left: 14px;
                font-size: 10px;
                margin: 16px 0;
            }

            .warning-list li {
                margin: 8px 0;
            }

            .accept-btn {
                padding: 11px 28px;
                font-size: 19px;
                letter-spacing: 1.5px;
                margin-top: 20px;
            }

            .start-game-btn {
                padding: 14px 34px;
                font-size: 23px;
                letter-spacing: 2px;
                margin: 24px auto;
            }

            .leaderboard-section {
                padding: 14px;
                margin-top: 24px;
            }

            .leaderboard-title {
                font-size: 21px;
                margin-bottom: 16px;
            }

            .leaderboard-table {
                font-size: 10px;
            }

            .leaderboard-table th,
            .leaderboard-table td {
                padding: 8px 3px;
            }

            .rank {
                font-size: 17px;
                width: 38px;
            }

            .time-score {
                font-size: 15px;
            }

            .operative-name {
                font-size: 10px;
            }

            .boot-screen {
                padding: 16px;
                font-size: 11px;
            }

            .boot-line {
                margin: 4px 0;
            }

            .progress-bar {
                height: 20px;
                margin: 14px 0;
            }

            .game-over-content {
                padding: 28px 14px;
                border-width: 2px;
            }

            .game-over-title {
                font-size: 44px;
                margin-bottom: 18px;
            }

            .game-over-stats {
                font-size: 13px;
            }

            .game-over-stats div {
                margin: 9px 0;
            }

            .retry-btn {
                padding: 11px 28px;
                font-size: 19px;
                margin-top: 22px;
            }

            .submit-score-section {
                padding: 14px;
                margin-top: 18px;
            }

            .score-input {
                width: 100%;
                max-width: 240px;
                padding: 8px 14px;
                font-size: 14px;
                margin: 9px 0;
            }

            .submit-score-btn {
                padding: 8px 20px;
                font-size: 17px;
                margin-top: 9px;
            }

            .typing-text {
                font-size: 12px;
            }
        }

        /* Very Small Phones (< 320px) - Rare but supported */
        @media (max-width: 319px) {
            body {
                padding: 5px;
                font-size: 12px;
            }

            .terminal-title {
                font-size: 20px;
            }

            .game-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 5px;
                padding: 10px;
            }

            .code-symbol {
                font-size: 18px;
            }

            .warning-title {
                font-size: 28px;
            }

            .start-game-btn {
                font-size: 20px;
                padding: 12px 28px;
            }

            .leaderboard-title {
                font-size: 18px;
            }

            .game-over-title {
                font-size: 36px;
            }
        }

        /* Landscape Mode Optimizations for All Phones */
        @media (max-height: 500px) and (orientation: landscape) {
            .terminal-screen {
                max-height: none;
                padding: 15px;
            }

            .terminal-title {
                font-size: 28px;
            }

            .terminal-subtitle {
                font-size: 10px;
            }

            .warning-box {
                padding: 18px 28px;
                max-width: 88%;
            }

            .warning-title {
                font-size: 32px;
                margin-bottom: 14px;
            }

            .warning-text {
                font-size: 11px;
            }

            .warning-list {
                margin: 14px 0;
                font-size: 10px;
            }

            .accept-btn {
                margin-top: 18px;
                padding: 10px 35px;
                font-size: 18px;
            }

            .instructions-box {
                padding: 16px;
            }

            .instruction-line {
                font-size: 11px;
                margin: 6px 0;
            }

            .start-game-btn {
                margin: 20px auto;
                padding: 12px 40px;
                font-size: 22px;
            }

            .leaderboard-section {
                margin-top: 20px;
                padding: 16px;
            }

            .leaderboard-title {
                font-size: 22px;
            }

            .game-container {
                gap: 6px;
                padding: 12px;
            }

            .code-symbol {
                font-size: 22px;
            }

            .game-header {
                padding: 12px;
            }

            .game-over-content {
                padding: 20px;
                max-height: 92vh;
                overflow-y: auto;
            }

            .game-over-title {
                font-size: 40px;
                margin-bottom: 16px;
            }

            .game-over-stats {
                font-size: 13px;
            }
        }

        /* Extra Short Landscape Mode (height < 400px) */
        @media (max-height: 400px) and (orientation: landscape) {
            .warning-title {
                font-size: 28px;
                margin-bottom: 10px;
            }

            .warning-list {
                margin: 10px 0;
            }

            .accept-btn {
                padding: 8px 30px;
                font-size: 16px;
                margin-top: 14px;
            }

            .start-game-btn {
                padding: 10px 35px;
                font-size: 20px;
                margin: 16px auto;
            }

            .game-over-title {
                font-size: 34px;
            }
        }

        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {
            .code-block {
                min-height: 60px;
                min-width: 60px;
            }

            .accept-btn,
            .start-game-btn,
            .retry-btn,
            .submit-score-btn {
                min-height: 48px;
                touch-action: manipulation;
                cursor: pointer;
            }

            /* Larger touch targets on small screens */
            @media (max-width: 480px) {
                .code-block {
                    min-height: 55px;
                    min-width: 55px;
                }
            }
        }

        /* High DPI / Retina Display Optimizations */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            body {
                -webkit-font-smoothing: antialiased;
            }

            .code-block,
            .accept-btn,
            .start-game-btn {
                border-width: 0.5px;
                border-width: 2px; /* Fallback for browsers that don't support 0.5px */
            }
        }

        /* Foldable Phones (Samsung Galaxy Z Fold, etc.) */
        @media (min-width: 653px) and (max-width: 717px) {
            .game-container {
                grid-template-columns: repeat(5, 1fr);
                gap: 10px;
            }

            .terminal-title {
                font-size: 32px;
            }
        }

        /* iPhone 14 Pro Max Portrait (430px) */
        @media (width: 430px) {
            .game-container {
                gap: 9px;
            }

            .code-symbol {
                font-size: 28px;
            }
        }

        /* iPhone 14 Pro Portrait (393px) */
        @media (width: 393px) {
            .terminal-title {
                font-size: 25px;
            }

            .code-symbol {
                font-size: 26px;
            }
        }

        /* Reduced Motion Preference */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div class="scanlines"></div>

    <!-- WARNING SCREEN -->
    <div class="screen warning-screen active" id="warningScreen">
        <div class="warning-box">
            <div class="warning-title">‚ö† WARNING ‚ö†</div>
            <div class="warning-text">
                YOU ARE ABOUT TO ACCESS A CLASSIFIED SYSTEM
            </div>
            <ul class="warning-list">
                <li>Unauthorized access is prohibited</li>
                <li>All activity is monitored and logged</li>
                <li>Security protocols will be enforced</li>
                <li>Failure may result in system lockdown</li>
                <li>Time-sensitive operations require focus</li>
            </ul>
            <div class="warning-text" style="margin-top: 30px;">
                BY PROCEEDING, YOU ACCEPT ALL RISKS
            </div>
            <button class="accept-btn" onclick="startBoot()">I ACCEPT THE RISKS</button>
        </div>
    </div>

    <!-- BOOT SCREEN -->
    <div class="screen" id="bootScreen">
        <div class="boot-screen">
            <div id="bootLines"></div>
            <div class="progress-bar" style="display: none;" id="progressBar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
    </div>

    <!-- TERMINAL INSTRUCTIONS SCREEN -->
    <div class="screen" id="terminalScreen">
        <div class="terminal-screen">
            <div class="terminal-header">
                <div class="terminal-title">SYSTEM ACCESS GRANTED</div>
                <div class="terminal-subtitle">CLEARANCE LEVEL: ALPHA-7 | SESSION ID: X9F2-4K8L | v1.0.0</div>
            </div>

            <div class="instructions-box">
                <h2 style="color: var(--warning-yellow); margin-bottom: 20px; font-size: 24px;">‚ñà MISSION BRIEFING</h2>
                <div class="instruction-line">OBJECTIVE: Decrypt the security grid by matching code pairs</div>
                <div class="instruction-line">TIME LIMIT: 60 seconds to complete the breach</div>
                <div class="instruction-line">METHOD: Click blocks to reveal codes, match identical pairs</div>
                <div class="instruction-line">WARNING: Wrong matches will cost you precious time</div>
                <div class="instruction-line">SUCCESS: Clear all blocks before timer expires</div>
                <div class="instruction-line">FAILURE: System lockdown and mission abort</div>
            </div>

            <div style="margin: 40px 0; padding: 20px; border: 1px dashed var(--neon-green);">
                <p style="text-align: center; font-size: 18px;">
                    <span class="typing-text">Ready to infiltrate the system, operative?</span>
                </p>
            </div>

            <button class="start-game-btn" onclick="startGame()">INITIATE BREACH</button>

            <!-- LEADERBOARD SECTION -->
            <div class="leaderboard-section">
                <div class="leaderboard-title">üèÜ BEST PENETRATORS üèÜ</div>
                <p style="text-align: center; color: var(--neon-green); margin-bottom: 20px; font-size: 14px;">
                    Top operatives who breached the system fastest. Can you beat them?
                </p>
                <table class="leaderboard-table">
                    <thead>
                        <tr>
                            <th class="rank">RANK</th>
                            <th>OPERATIVE</th>
                            <th>TIME</th>
                            <th>DATE</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboardBody">
                        <tr>
                            <td class="rank top3">1</td>
                            <td class="operative-name">GHOST_PROTOCOL</td>
                            <td class="time-score">28s</td>
                            <td>2026-01-15</td>
                        </tr>
                        <tr>
                            <td class="rank top3">2</td>
                            <td class="operative-name">CIPHER_QUEEN</td>
                            <td class="time-score">31s</td>
                            <td>2026-01-14</td>
                        </tr>
                        <tr>
                            <td class="rank top3">3</td>
                            <td class="operative-name">SHADOW_BYTE</td>
                            <td class="time-score">34s</td>
                            <td>2026-01-13</td>
                        </tr>
                        <tr>
                            <td class="rank">4</td>
                            <td class="operative-name">NEON_HACKER</td>
                            <td class="time-score">37s</td>
                            <td>2026-01-12</td>
                        </tr>
                        <tr>
                            <td class="rank">5</td>
                            <td class="operative-name">ZERO_DAY</td>
                            <td class="time-score">39s</td>
                            <td>2026-01-11</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- GAME SCREEN -->
    <div class="screen" id="gameScreen">
        <div class="game-screen">
            <div class="game-header">
                <div>
                    <div style="font-size: 14px; opacity: 0.8;">TIME REMAINING</div>
                    <div class="timer" id="timer">60</div>
                </div>
                <div>
                    <div style="font-size: 14px; opacity: 0.8; text-align: right;">PAIRS FOUND</div>
                    <div class="score" id="score">0 / 12</div>
                </div>
            </div>

            <div class="mission-brief">
                <strong>‚ö° ACTIVE BREACH:</strong> Match all code pairs to decrypt the security grid. Time is critical!
            </div>

            <div class="game-container" id="gameContainer">
                <!-- Game blocks will be generated here -->
            </div>
        </div>
    </div>

    <!-- GAME OVER SCREEN -->
    <div class="game-over-screen" id="gameOverScreen">
        <div class="game-over-content" id="gameOverContent">
            <div class="game-over-title" id="gameOverTitle">MISSION COMPLETE</div>
            <div class="game-over-stats" id="gameOverStats"></div>
            
            <div class="submit-score-section" id="submitScoreSection" style="display: none;">
                <p style="margin-bottom: 15px; color: var(--warning-yellow);">üìù REGISTER YOUR SCORE:</p>
                <input type="text" class="score-input" id="operativeName" placeholder="ENTER OPERATIVE NAME" maxlength="20">
                <br><br>
                <button class="submit-score-btn" onclick="submitScore()">SUBMIT TO LEADERBOARD</button>
            </div>
            
            <button class="retry-btn" onclick="location.reload()">RETRY MISSION</button>
        </div>
    </div>

    <script>
        // Game State
        let timeLeft = 60;
        let timerInterval;
        let matchesFound = 0;
        let totalPairs = 12;
        let firstCard = null;
        let secondCard = null;
        let lockBoard = false;
        let startTime;
        let finalTime = 0;

        // More symbols for randomness
        const symbolPool = ['‚óà', '‚óä', '‚óÜ', '‚óâ', '‚óé', '‚óè', '‚óê', '‚óë', '‚óí', '‚óì', '‚óî', '‚óï', '‚ô¶', '‚ô£', '‚ô†', '‚ô•', '‚òÖ', '‚òÜ', '‚óò', '‚óô'];
        
        // Leaderboard data (stored in localStorage)
        let leaderboard = [];

        // Load leaderboard from localStorage
        function loadLeaderboard() {
            const saved = localStorage.getItem('hackerGameLeaderboard');
            if (saved) {
                leaderboard = JSON.parse(saved);
            } else {
                // Default leaderboard
                leaderboard = [
                    { name: 'GHOST_PROTOCOL', time: 28, date: '2026-01-15' },
                    { name: 'CIPHER_QUEEN', time: 31, date: '2026-01-14' },
                    { name: 'SHADOW_BYTE', time: 34, date: '2026-01-13' },
                    { name: 'NEON_HACKER', time: 37, date: '2026-01-12' },
                    { name: 'ZERO_DAY', time: 39, date: '2026-01-11' },
                    { name: 'CRYPTO_NINJA', time: 42, date: '2026-01-10' },
                    { name: 'MATRIX_WALKER', time: 45, date: '2026-01-09' },
                    { name: 'PHANTOM_ACCESS', time: 47, date: '2026-01-08' },
                    { name: 'VOID_RUNNER', time: 49, date: '2026-01-07' },
                    { name: 'BINARY_GHOST', time: 52, date: '2026-01-06' }
                ];
            }
            displayLeaderboard();
        }

        // Display leaderboard
        function displayLeaderboard() {
            const tbody = document.getElementById('leaderboardBody');
            tbody.innerHTML = '';
            
            leaderboard.slice(0, 10).forEach((entry, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="rank ${index < 3 ? 'top3' : ''}">${index + 1}</td>
                    <td class="operative-name">${entry.name}</td>
                    <td class="time-score">${entry.time}s</td>
                    <td>${entry.date}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Submit score
        function submitScore() {
            const nameInput = document.getElementById('operativeName');
            const name = nameInput.value.trim().toUpperCase();
            
            if (!name) {
                alert('‚ö† Please enter your operative name!');
                return;
            }

            const today = new Date().toISOString().split('T')[0];
            leaderboard.push({ name, time: finalTime, date: today });
            leaderboard.sort((a, b) => a.time - b.time);
            leaderboard = leaderboard.slice(0, 10);
            
            localStorage.setItem('hackerGameLeaderboard', JSON.stringify(leaderboard));
            
            document.getElementById('submitScoreSection').innerHTML = `
                <p style="color: var(--neon-green); font-size: 20px;">‚úì SCORE REGISTERED SUCCESSFULLY!</p>
                <p style="margin-top: 10px;">Your rank: #${leaderboard.findIndex(e => e.name === name && e.time === finalTime) + 1}</p>
            `;
        }
        
        // Boot sequence
        const bootMessages = [
            '[SYSTEM] Initializing secure connection...',
            '[SYSTEM] Loading encryption modules...',
            '[BIOS] CPU: QUANTUM-X9 @ 4.2GHz',
            '[BIOS] RAM: 64GB DDR5',
            '[KERNEL] Loading security protocols...',
            '[NET] Establishing encrypted tunnel...',
            '[AUTH] Verifying credentials...',
            '[AUTH] Access level: ALPHA-7 confirmed',
            '[FIREWALL] Bypassing detection systems...',
            '[SYSTEM] Loading mission parameters...',
            '[OK] All systems operational',
            '[READY] Awaiting operator command...'
        ];

        function startBoot() {
            // Hide warning screen
            document.getElementById('warningScreen').classList.remove('active');
            
            // Show boot screen after a brief delay
            setTimeout(() => {
                document.getElementById('bootScreen').classList.add('active');
            }, 100);
            
            const bootLines = document.getElementById('bootLines');
            let delay = 100;

            bootMessages.forEach((msg, index) => {
                setTimeout(() => {
                    const line = document.createElement('div');
                    line.className = 'boot-line ' + (msg.includes('[OK]') || msg.includes('[READY]') ? 'boot-ok' : 'boot-loading');
                    line.textContent = msg;
                    line.style.animationDelay = '0s';
                    bootLines.appendChild(line);

                    if (index === bootMessages.length - 1) {
                        setTimeout(() => {
                            document.getElementById('progressBar').style.display = 'block';
                            loadProgress();
                        }, 500);
                    }
                }, delay);
                delay += 200;
            });
        }

        function loadProgress() {
            const progressFill = document.getElementById('progressFill');
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                progressFill.style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        // Hide boot screen
                        document.getElementById('bootScreen').classList.remove('active');
                        
                        // Show terminal screen
                        setTimeout(() => {
                            document.getElementById('terminalScreen').classList.add('active');
                        }, 100);
                    }, 500);
                }
            }, 30);
        }

        function startGame() {
            // Hide terminal screen
            document.getElementById('terminalScreen').classList.remove('active');
            
            // Show game screen
            setTimeout(() => {
                document.getElementById('gameScreen').classList.add('active');
                initializeGame();
                startTimer();
            }, 100);
        }

        function initializeGame() {
            const container = document.getElementById('gameContainer');
            container.innerHTML = '';
            
            // RANDOMNESS: Shuffle symbol pool and pick 12 random symbols
            const shuffledPool = [...symbolPool].sort(() => Math.random() - 0.5);
            const selectedSymbols = shuffledPool.slice(0, totalPairs);
            
            // Create pairs and shuffle them
            const gameSymbols = [...selectedSymbols, ...selectedSymbols].sort(() => Math.random() - 0.5);
            
            gameSymbols.forEach((symbol, index) => {
                const block = document.createElement('div');
                block.className = 'code-block';
                block.dataset.symbol = symbol;
                block.dataset.index = index;
                block.innerHTML = `<div class="code-symbol" style="opacity: 0;">${symbol}</div>`;
                block.addEventListener('click', () => flipCard(block));
                container.appendChild(block);
            });

            startTime = Date.now();
            matchesFound = 0;
            updateScore();
        }

        function flipCard(card) {
            if (lockBoard) return;
            if (card === firstCard) return;
            if (card.classList.contains('matched')) return;

            card.classList.add('selected');
            card.querySelector('.code-symbol').style.opacity = '1';

            if (!firstCard) {
                firstCard = card;
                return;
            }

            secondCard = card;
            lockBoard = true;

            checkForMatch();
        }

        function checkForMatch() {
            const isMatch = firstCard.dataset.symbol === secondCard.dataset.symbol;

            if (isMatch) {
                disableCards();
                matchesFound++;
                updateScore();
                
                if (matchesFound === totalPairs) {
                    setTimeout(() => endGame(true), 500);
                }
            } else {
                unflipCards();
            }
        }

        function disableCards() {
            firstCard.classList.remove('selected');
            secondCard.classList.remove('selected');
            firstCard.classList.add('matched');
            secondCard.classList.add('matched');

            resetBoard();
        }

        function unflipCards() {
            firstCard.classList.add('wrong');
            secondCard.classList.add('wrong');

            setTimeout(() => {
                firstCard.classList.remove('selected', 'wrong');
                secondCard.classList.remove('selected', 'wrong');
                firstCard.querySelector('.code-symbol').style.opacity = '0';
                secondCard.querySelector('.code-symbol').style.opacity = '0';

                resetBoard();
            }, 800);
        }

        function resetBoard() {
            [firstCard, secondCard, lockBoard] = [null, null, false];
        }

        function updateScore() {
            document.getElementById('score').textContent = `${matchesFound} / ${totalPairs}`;
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;

                if (timeLeft <= 10) {
                    document.getElementById('timer').style.animation = 'warningPulse 0.5s infinite';
                }

                if (timeLeft <= 0) {
                    endGame(false);
                }
            }, 1000);
        }

        function endGame(success) {
            clearInterval(timerInterval);
            const timeTaken = Math.floor((Date.now() - startTime) / 1000);
            finalTime = timeTaken;
            
            const gameOverScreen = document.getElementById('gameOverScreen');
            const gameOverContent = document.getElementById('gameOverContent');
            const gameOverTitle = document.getElementById('gameOverTitle');
            const gameOverStats = document.getElementById('gameOverStats');
            const submitScoreSection = document.getElementById('submitScoreSection');

            if (success) {
                gameOverTitle.textContent = '‚óà MISSION COMPLETE ‚óà';
                gameOverTitle.style.color = 'var(--neon-green)';
                gameOverContent.classList.remove('failed');
                gameOverStats.innerHTML = `
                    <div>SECURITY GRID: DECRYPTED</div>
                    <div>TIME TAKEN: ${timeTaken} seconds</div>
                    <div>EFFICIENCY: ${(matchesFound / totalPairs * 100).toFixed(0)}%</div>
                    <div style="margin-top: 20px; color: var(--warning-yellow);">‚úì ACCESS GRANTED</div>
                `;
                submitScoreSection.style.display = 'block';
            } else {
                gameOverTitle.textContent = '‚úó MISSION FAILED ‚úó';
                gameOverTitle.style.color = 'var(--warning-red)';
                gameOverContent.classList.add('failed');
                gameOverStats.innerHTML = `
                    <div>SECURITY GRID: LOCKED</div>
                    <div>PAIRS FOUND: ${matchesFound} / ${totalPairs}</div>
                    <div>TIME EXPIRED</div>
                    <div style="margin-top: 20px; color: var(--warning-red);">‚ö† SYSTEM LOCKDOWN INITIATED</div>
                `;
                submitScoreSection.style.display = 'none';
            }

            gameOverScreen.classList.add('active');
        }

        // Initialize leaderboard on page load
        loadLeaderboard();

        // Performance optimization: Debounce resize events
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function() {
                // Handle any resize-specific logic here if needed
            }, 250);
        }, { passive: true });

        // Optimize scrolling performance
        let ticking = false;
        window.addEventListener('scroll', function() {
            if (!ticking) {
                window.requestAnimationFrame(function() {
                    ticking = false;
                });
                ticking = true;
            }
        }, { passive: true });
    </script>
</body>
</html>
